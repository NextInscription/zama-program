<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>测试 SepoliaConfig</title>
    <style>
      body {
        font-family: monospace;
        padding: 20px;
        background: #1e1e1e;
        color: #d4d4d4;
      }
      pre {
        background: #2d2d2d;
        padding: 15px;
        border-radius: 5px;
        overflow-x: auto;
      }
      .success {
        color: #4ec9b0;
      }
      .info {
        color: #569cd6;
      }
    </style>
  </head>
  <body>
    <!-- Polyfill for Node.js global variables in browser -->
    <script>
      window.global = window.globalThis;
      window.process = window.process || { env: {} };
    </script>

    <h1>SepoliaConfig 测试</h1>
    <p>验证 SDK 现在使用 Zama SDK 的官方配置</p>

    <div id="output"></div>

    <script type="module">
      // 导入 SDK 和配置
      import { SEPOLIA_FHE_CONFIG, SepoliaConfig } from './dist/index.mjs';

      const output = document.getElementById('output');

      function log(message, type = 'info') {
        const div = document.createElement('div');
        div.className = type;
        div.textContent = message;
        output.appendChild(div);
      }

      try {
        log('✅ 成功导入 SEPOLIA_FHE_CONFIG 和 SepoliaConfig', 'success');
        log('');

        log('SEPOLIA_FHE_CONFIG 配置:', 'info');
        const pre1 = document.createElement('pre');
        pre1.textContent = JSON.stringify(SEPOLIA_FHE_CONFIG, null, 2);
        output.appendChild(pre1);

        log('');
        log('SepoliaConfig 配置:', 'info');
        const pre2 = document.createElement('pre');
        pre2.textContent = JSON.stringify(SepoliaConfig, null, 2);
        output.appendChild(pre2);

        log('');
        if (SEPOLIA_FHE_CONFIG === SepoliaConfig) {
          log('✅ SEPOLIA_FHE_CONFIG 和 SepoliaConfig 是同一个对象', 'success');
        } else {
          log('⚠️ SEPOLIA_FHE_CONFIG 和 SepoliaConfig 不是同一个对象', 'info');
        }

        log('');
        log('配置属性对比:', 'info');
        log(`- ACL Contract: ${SEPOLIA_FHE_CONFIG.aclContractAddress}`);
        log(`- KMS Contract: ${SEPOLIA_FHE_CONFIG.kmsContractAddress}`);
        log(`- Chain ID: ${SEPOLIA_FHE_CONFIG.chainId}`);
        log(`- Gateway Chain ID: ${SEPOLIA_FHE_CONFIG.gatewayChainId}`);
        log(`- Network: ${SEPOLIA_FHE_CONFIG.network}`);
        log(`- Relayer URL: ${SEPOLIA_FHE_CONFIG.relayerUrl}`);

        log('');
        log('✅ 所有配置验证通过！SDK 现在使用 Zama SDK 的官方配置', 'success');
      } catch (error) {
        log(`❌ 错误: ${error.message}`, 'error');
        console.error(error);
      }
    </script>
  </body>
</html>
